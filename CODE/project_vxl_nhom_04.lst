CCS PCM C Compiler, Version 5.101, 43599               08-Dec-21 23:42

               Filename:   C:\Users\vu\Desktop\vxl\New folder\project_vxl_nhom_04.lst

               ROM used:   1642 words (20%)
                           Largest free fragment is 2048
               RAM used:   69 (19%) at main() level
                           72 (20%) worst case
               Stack used: 3 locations
               Stack size: 8

*
0000:  MOVLW  05
0001:  MOVWF  0A
0002:  GOTO   58C
0003:  NOP
.................... #include <project_vxl_nhom_04.h>
.................... #include <16F887.h>
.................... //////////// Standard Header file for the PIC16F887 device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2020 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC16F887
0004:  DATA 20,2B
0005:  DATA D5,27
0006:  DATA 54,10
0007:  DATA CC,20
0008:  DATA 4E,10
0009:  DATA 4E,24
000A:  DATA 41,28
000B:  DATA 20,10
000C:  DATA 00,00
000D:  DATA 54,24
000E:  DATA CF,24
000F:  DATA A0,23
0010:  DATA C9,20
0011:  DATA 4E,1D
0012:  DATA 20,10
0013:  DATA 20,00
0014:  DATA 73,00
0015:  DATA 20,10
0016:  DATA D3,20
0017:  DATA 49,10
0018:  DATA CD,20
0019:  DATA 54,10
001A:  DATA 4B,24
001B:  DATA C1,2A
001C:  DATA 20,10
001D:  DATA 00,01
001E:  DATA 20,10
001F:  DATA CD,27
0020:  DATA 49,10
0021:  DATA 4E,24
0022:  DATA 41,28
0023:  DATA 20,26
0024:  DATA C1,24
0025:  DATA 20,10
0026:  DATA 00,00
0027:  DATA 20,10
0028:  DATA C4,27
0029:  DATA 49,10
002A:  DATA CD,20
002B:  DATA 54,10
002C:  DATA 4B,24
002D:  DATA C1,2A
002E:  DATA 20,10
002F:  DATA 00,01
0030:  DATA 20,22
0031:  DATA CF,24
0032:  DATA 20,2A
0033:  DATA C8,20
0034:  DATA 4E,24
0035:  DATA A0,21
0036:  DATA 4F,27
0037:  DATA 47,10
0038:  DATA 00,01
0039:  DATA 20,10
003A:  DATA C4,27
003B:  DATA 49,10
003C:  DATA CD,20
003D:  DATA 54,10
003E:  DATA 4B,24
003F:  DATA C1,2A
0040:  DATA 20,10
0041:  DATA 00,01
0042:  DATA 20,10
0043:  DATA C4,27
0044:  DATA 49,10
0045:  DATA 54,24
0046:  DATA 41,2A
0047:  DATA 20,21
0048:  DATA C1,24
0049:  DATA 20,10
004A:  DATA 00,01
004B:  DATA 20,10
004C:  DATA 20,10
004D:  DATA 20,10
004E:  DATA 20,10
004F:  DATA 20,10
0050:  DATA 20,10
0051:  DATA 20,10
0052:  DATA 20,10
0053:  DATA 20,10
0054:  DATA 00,01
0055:  DATA 20,10
0056:  DATA 20,10
0057:  DATA 20,10
0058:  DATA 20,10
0059:  DATA 20,10
005A:  DATA 20,10
005B:  DATA 20,10
005C:  DATA 20,10
005D:  DATA 20,10
005E:  DATA 00,00
005F:  DATA 20,10
0060:  DATA C4,27
0061:  DATA 49,10
0062:  DATA CD,20
0063:  DATA 54,10
0064:  DATA 4B,24
0065:  DATA C1,2A
0066:  DATA 20,10
0067:  DATA 00,01
0068:  DATA CC,20
0069:  DATA 4E,10
006A:  DATA 31,1D
006B:  DATA 20,10
006C:  DATA 20,10
006D:  DATA 20,10
006E:  DATA 20,10
006F:  DATA 20,10
0070:  DATA 00,01
0071:  DATA CC,20
0072:  DATA 4E,10
0073:  DATA 32,1D
0074:  DATA 20,10
0075:  DATA 20,10
0076:  DATA 20,10
0077:  DATA 20,10
0078:  DATA 20,10
0079:  DATA 00,01
007A:  DATA CC,20
007B:  DATA 4E,10
007C:  DATA 32,1D
007D:  DATA 00,00
007E:  DATA 20,27
007F:  DATA C8,20
0080:  DATA 50,10
0081:  DATA CD,20
0082:  DATA 54,10
0083:  DATA 4B,24
0084:  DATA C1,2A
0085:  DATA 20,10
0086:  DATA 00,01
0087:  DATA 20,22
0088:  DATA 55,27
0089:  DATA 47,10
008A:  DATA CD,20
008B:  DATA 54,10
008C:  DATA 4B,24
008D:  DATA C1,2A
008E:  DATA 20,10
008F:  DATA 00,01
0090:  DATA C3,2A
0091:  DATA 41,10
0092:  DATA CD,27
0093:  DATA A0,16
0094:  DATA A0,26
0095:  DATA CF,24
0096:  DATA 20,2B
0097:  DATA C1,27
0098:  DATA 00,01
0099:  DATA 20,27
009A:  DATA C8,20
009B:  DATA 50,10
009C:  DATA CD,20
009D:  DATA 54,10
009E:  DATA 4B,24
009F:  DATA C1,2A
00A0:  DATA 20,10
00A1:  DATA 00,00
*
0116:  MOVF   0B,W
0117:  MOVWF  5E
0118:  BCF    0B.7
0119:  BSF    03.5
011A:  BSF    03.6
011B:  BSF    0C.7
011C:  BSF    0C.0
011D:  NOP
011E:  NOP
011F:  BCF    03.5
0120:  BCF    03.6
0121:  BTFSC  5E.7
0122:  BSF    0B.7
0123:  BSF    03.6
0124:  MOVF   0C,W
0125:  ANDLW  7F
0126:  BTFSC  03.2
0127:  GOTO   16A
0128:  BCF    03.6
0129:  MOVWF  5E
012A:  BSF    03.6
012B:  MOVF   0D,W
012C:  BCF    03.6
012D:  MOVWF  5F
012E:  BSF    03.6
012F:  MOVF   0F,W
0130:  BCF    03.6
0131:  MOVWF  60
0132:  MOVF   5E,W
0133:  MOVWF  61
0134:  CALL   0F2
0135:  MOVF   5F,W
0136:  BSF    03.6
0137:  MOVWF  0D
0138:  BCF    03.6
0139:  MOVF   60,W
013A:  BSF    03.6
013B:  MOVWF  0F
013C:  BCF    03.6
013D:  MOVF   0B,W
013E:  MOVWF  61
013F:  BCF    0B.7
0140:  BSF    03.5
0141:  BSF    03.6
0142:  BSF    0C.7
0143:  BSF    0C.0
0144:  NOP
0145:  NOP
0146:  BCF    03.5
0147:  BCF    03.6
0148:  BTFSC  61.7
0149:  BSF    0B.7
014A:  BSF    03.6
014B:  RLF    0C,W
014C:  RLF    0E,W
014D:  ANDLW  7F
014E:  BTFSC  03.2
014F:  GOTO   16A
0150:  BCF    03.6
0151:  MOVWF  5E
0152:  BSF    03.6
0153:  MOVF   0D,W
0154:  BCF    03.6
0155:  MOVWF  5F
0156:  BSF    03.6
0157:  MOVF   0F,W
0158:  BCF    03.6
0159:  MOVWF  60
015A:  MOVF   5E,W
015B:  MOVWF  61
015C:  CALL   0F2
015D:  MOVF   5F,W
015E:  BSF    03.6
015F:  MOVWF  0D
0160:  BCF    03.6
0161:  MOVF   60,W
0162:  BSF    03.6
0163:  MOVWF  0F
0164:  INCF   0D,F
0165:  BTFSC  03.2
0166:  INCF   0F,F
0167:  BCF    03.6
0168:  GOTO   116
0169:  BSF    03.6
016A:  BCF    03.6
016B:  RETURN
*
0182:  MOVF   5F,W
0183:  CLRF   78
0184:  SUBWF  5E,W
0185:  BTFSC  03.0
0186:  GOTO   18A
0187:  MOVF   5E,W
0188:  MOVWF  77
0189:  GOTO   196
018A:  CLRF   77
018B:  MOVLW  08
018C:  MOVWF  60
018D:  RLF    5E,F
018E:  RLF    77,F
018F:  MOVF   5F,W
0190:  SUBWF  77,W
0191:  BTFSC  03.0
0192:  MOVWF  77
0193:  RLF    78,F
0194:  DECFSZ 60,F
0195:  GOTO   18D
0196:  RETURN
.................... 
.................... #list
.................... 
.................... #device ADC=10
.................... #use delay(crystal=20000000)
*
00A2:  MOVLW  62
00A3:  MOVWF  04
00A4:  BCF    03.7
00A5:  MOVF   00,W
00A6:  BTFSC  03.2
00A7:  GOTO   0B5
00A8:  MOVLW  06
00A9:  MOVWF  78
00AA:  CLRF   77
00AB:  DECFSZ 77,F
00AC:  GOTO   0AB
00AD:  DECFSZ 78,F
00AE:  GOTO   0AA
00AF:  MOVLW  7B
00B0:  MOVWF  77
00B1:  DECFSZ 77,F
00B2:  GOTO   0B1
00B3:  DECFSZ 00,F
00B4:  GOTO   0A8
00B5:  RETURN
.................... 
.................... 
.................... 
.................... #define RS  PIN_C0
.................... #define RW  PIN_C1
.................... #define E   PIN_C2
.................... void lcd_command(unsigned int8 cm)
.................... {
....................    output_low(RW);
00B6:  BCF    20.1
00B7:  MOVF   20,W
00B8:  BSF    03.5
00B9:  MOVWF  07
00BA:  BCF    03.5
00BB:  BCF    07.1
....................    output_low(RS);
00BC:  BCF    20.0
00BD:  MOVF   20,W
00BE:  BSF    03.5
00BF:  MOVWF  07
00C0:  BCF    03.5
00C1:  BCF    07.0
....................    delay_ms(5);
00C2:  MOVLW  05
00C3:  MOVWF  62
00C4:  CALL   0A2
....................    output_d(cm);
00C5:  BSF    03.5
00C6:  CLRF   08
00C7:  BCF    03.5
00C8:  MOVF   5E,W
00C9:  MOVWF  08
....................    output_low(E);
00CA:  BCF    20.2
00CB:  MOVF   20,W
00CC:  BSF    03.5
00CD:  MOVWF  07
00CE:  BCF    03.5
00CF:  BCF    07.2
....................    output_high(E);
00D0:  BCF    20.2
00D1:  MOVF   20,W
00D2:  BSF    03.5
00D3:  MOVWF  07
00D4:  BCF    03.5
00D5:  BSF    07.2
....................    delay_ms(1);
00D6:  MOVLW  01
00D7:  MOVWF  62
00D8:  CALL   0A2
00D9:  RETURN
.................... }
.................... void lcd_data(unsigned int8 dt)
.................... {
....................    output_low(RW);
*
00F2:  BCF    20.1
00F3:  MOVF   20,W
00F4:  BSF    03.5
00F5:  MOVWF  07
00F6:  BCF    03.5
00F7:  BCF    07.1
....................    output_high(RS);
00F8:  BCF    20.0
00F9:  MOVF   20,W
00FA:  BSF    03.5
00FB:  MOVWF  07
00FC:  BCF    03.5
00FD:  BSF    07.0
....................    delay_ms(5);
00FE:  MOVLW  05
00FF:  MOVWF  62
0100:  CALL   0A2
....................    output_d(dt);
0101:  BSF    03.5
0102:  CLRF   08
0103:  BCF    03.5
0104:  MOVF   61,W
0105:  MOVWF  08
....................    output_low(E);
0106:  BCF    20.2
0107:  MOVF   20,W
0108:  BSF    03.5
0109:  MOVWF  07
010A:  BCF    03.5
010B:  BCF    07.2
....................    output_high(E);
010C:  BCF    20.2
010D:  MOVF   20,W
010E:  BSF    03.5
010F:  MOVWF  07
0110:  BCF    03.5
0111:  BSF    07.2
....................    delay_ms(1);
0112:  MOVLW  01
0113:  MOVWF  62
0114:  CALL   0A2
0115:  RETURN
.................... }
.................... void lcd_setup()
....................   {
....................    delay_ms(5);
*
00DA:  MOVLW  05
00DB:  MOVWF  62
00DC:  CALL   0A2
....................    lcd_command(0x38);
00DD:  MOVLW  38
00DE:  MOVWF  5E
00DF:  CALL   0B6
....................    delay_ms(5);
00E0:  MOVLW  05
00E1:  MOVWF  62
00E2:  CALL   0A2
....................    lcd_command(0x0c);
00E3:  MOVLW  0C
00E4:  MOVWF  5E
00E5:  CALL   0B6
....................    lcd_command(0x06);
00E6:  MOVLW  06
00E7:  MOVWF  5E
00E8:  CALL   0B6
....................    lcd_command(0x01);
00E9:  MOVLW  01
00EA:  MOVWF  5E
00EB:  CALL   0B6
....................    delay_ms(2);
00EC:  MOVLW  02
00ED:  MOVWF  62
00EE:  CALL   0A2
00EF:  BCF    0A.3
00F0:  BCF    0A.4
00F1:  GOTO   5E3 (RETURN)
....................   }
.................... signed int8 chay,i;
.................... #include<tv_key_phim_4x3.c>
.................... #INCLUDE <tv_matran_phim.c>
.................... #define     c0       pin_b0
.................... #define     c1       pin_b1
.................... #define     c2       pin_b2
.................... #define     c3       pin_b3
.................... 
.................... #define     h0       pin_b4
.................... #define     h1       pin_b5
.................... #define     h2       pin_b6
.................... 
.................... 
.................... unsigned int8 mp;
.................... unsigned int8 quetphim_4x3()
.................... {
....................    output_low(c0);   // cap muc 0 cho hang 1
*
0197:  BSF    03.5
0198:  BCF    06.0
0199:  BCF    03.5
019A:  BCF    06.0
....................    output_high(c1);
019B:  BSF    03.5
019C:  BCF    06.1
019D:  BCF    03.5
019E:  BSF    06.1
....................    output_high(c2);
019F:  BSF    03.5
01A0:  BCF    06.2
01A1:  BCF    03.5
01A2:  BSF    06.2
....................    output_high(c3);
01A3:  BSF    03.5
01A4:  BCF    06.3
01A5:  BCF    03.5
01A6:  BSF    06.3
....................    
....................    if(input(h0)==0)        // kiem tra co xuong 0 
01A7:  BSF    03.5
01A8:  BSF    06.4
01A9:  BCF    03.5
01AA:  BTFSC  06.4
01AB:  GOTO   1BC
....................    {
....................       delay_ms(20);        // chong doi phim
01AC:  MOVLW  14
01AD:  MOVWF  62
01AE:  CALL   0A2
....................       if(input(h0)==0)     // con muc 0
01AF:  BSF    03.5
01B0:  BSF    06.4
01B1:  BCF    03.5
01B2:  BTFSC  06.4
01B3:  GOTO   1BC
....................       {
....................          while(input(h0)==0);       // cho nha phim
01B4:  BSF    03.5
01B5:  BSF    06.4
01B6:  BCF    03.5
01B7:  BTFSS  06.4
01B8:  GOTO   1B4
....................          return 1;                    //1
01B9:  MOVLW  01
01BA:  MOVWF  78
01BB:  GOTO   2D5
....................       }
....................    }
....................    if(input(h1)==0)
01BC:  BSF    03.5
01BD:  BSF    06.5
01BE:  BCF    03.5
01BF:  BTFSC  06.5
01C0:  GOTO   1D1
....................    {
....................       delay_ms(20);
01C1:  MOVLW  14
01C2:  MOVWF  62
01C3:  CALL   0A2
....................       if(input(h1)==0)
01C4:  BSF    03.5
01C5:  BSF    06.5
01C6:  BCF    03.5
01C7:  BTFSC  06.5
01C8:  GOTO   1D1
....................       {
....................          while(input(h1)==0);
01C9:  BSF    03.5
01CA:  BSF    06.5
01CB:  BCF    03.5
01CC:  BTFSS  06.5
01CD:  GOTO   1C9
....................          return 2;                     //2
01CE:  MOVLW  02
01CF:  MOVWF  78
01D0:  GOTO   2D5
....................       }
....................    }
....................    if(input(h2)==0)
01D1:  BSF    03.5
01D2:  BSF    06.6
01D3:  BCF    03.5
01D4:  BTFSC  06.6
01D5:  GOTO   1E6
....................    {
....................       delay_ms(20);
01D6:  MOVLW  14
01D7:  MOVWF  62
01D8:  CALL   0A2
....................       if(input(h2)==0)
01D9:  BSF    03.5
01DA:  BSF    06.6
01DB:  BCF    03.5
01DC:  BTFSC  06.6
01DD:  GOTO   1E6
....................       {
....................          while(input(h2)==0);
01DE:  BSF    03.5
01DF:  BSF    06.6
01E0:  BCF    03.5
01E1:  BTFSS  06.6
01E2:  GOTO   1DE
....................          return 3;                    //3
01E3:  MOVLW  03
01E4:  MOVWF  78
01E5:  GOTO   2D5
....................       }
....................    }
....................    output_low(c1);    // cap muc 0 cho hang 2
01E6:  BSF    03.5
01E7:  BCF    06.1
01E8:  BCF    03.5
01E9:  BCF    06.1
....................    output_high(c0);
01EA:  BSF    03.5
01EB:  BCF    06.0
01EC:  BCF    03.5
01ED:  BSF    06.0
....................    output_high(c2);
01EE:  BSF    03.5
01EF:  BCF    06.2
01F0:  BCF    03.5
01F1:  BSF    06.2
....................    output_high(c3);
01F2:  BSF    03.5
01F3:  BCF    06.3
01F4:  BCF    03.5
01F5:  BSF    06.3
....................    if(input(h0)==0)
01F6:  BSF    03.5
01F7:  BSF    06.4
01F8:  BCF    03.5
01F9:  BTFSC  06.4
01FA:  GOTO   20B
....................    {
....................       delay_ms(20);
01FB:  MOVLW  14
01FC:  MOVWF  62
01FD:  CALL   0A2
....................       if(input(h0)==0)
01FE:  BSF    03.5
01FF:  BSF    06.4
0200:  BCF    03.5
0201:  BTFSC  06.4
0202:  GOTO   20B
....................       {
....................          while(input(h0)==0);
0203:  BSF    03.5
0204:  BSF    06.4
0205:  BCF    03.5
0206:  BTFSS  06.4
0207:  GOTO   203
....................          return 4;               //4
0208:  MOVLW  04
0209:  MOVWF  78
020A:  GOTO   2D5
....................       }
....................    }
....................    if(input(h1)==0)
020B:  BSF    03.5
020C:  BSF    06.5
020D:  BCF    03.5
020E:  BTFSC  06.5
020F:  GOTO   220
....................    {
....................       delay_ms(20);
0210:  MOVLW  14
0211:  MOVWF  62
0212:  CALL   0A2
....................       if(input(h1)==0)
0213:  BSF    03.5
0214:  BSF    06.5
0215:  BCF    03.5
0216:  BTFSC  06.5
0217:  GOTO   220
....................       {
....................          while(input(h1)==0);
0218:  BSF    03.5
0219:  BSF    06.5
021A:  BCF    03.5
021B:  BTFSS  06.5
021C:  GOTO   218
....................          return 5;                  //5
021D:  MOVLW  05
021E:  MOVWF  78
021F:  GOTO   2D5
....................       }
....................    }
....................    if(input(h2)==0)
0220:  BSF    03.5
0221:  BSF    06.6
0222:  BCF    03.5
0223:  BTFSC  06.6
0224:  GOTO   235
....................    {
....................       delay_ms(20);
0225:  MOVLW  14
0226:  MOVWF  62
0227:  CALL   0A2
....................       if(input(h2)==0)
0228:  BSF    03.5
0229:  BSF    06.6
022A:  BCF    03.5
022B:  BTFSC  06.6
022C:  GOTO   235
....................       {
....................          while(input(h2)==0);
022D:  BSF    03.5
022E:  BSF    06.6
022F:  BCF    03.5
0230:  BTFSS  06.6
0231:  GOTO   22D
....................          return 6;               //6
0232:  MOVLW  06
0233:  MOVWF  78
0234:  GOTO   2D5
....................       }
....................    }
.................... 
....................    output_low(c2);  // cap muc 0 cho hang 3
0235:  BSF    03.5
0236:  BCF    06.2
0237:  BCF    03.5
0238:  BCF    06.2
....................    output_high(c0);
0239:  BSF    03.5
023A:  BCF    06.0
023B:  BCF    03.5
023C:  BSF    06.0
....................    output_high(c1);
023D:  BSF    03.5
023E:  BCF    06.1
023F:  BCF    03.5
0240:  BSF    06.1
....................    output_high(c3);
0241:  BSF    03.5
0242:  BCF    06.3
0243:  BCF    03.5
0244:  BSF    06.3
....................    if(input(h0)==0)
0245:  BSF    03.5
0246:  BSF    06.4
0247:  BCF    03.5
0248:  BTFSC  06.4
0249:  GOTO   25A
....................    {
....................       delay_ms(20);
024A:  MOVLW  14
024B:  MOVWF  62
024C:  CALL   0A2
....................       if(input(h0)==0)
024D:  BSF    03.5
024E:  BSF    06.4
024F:  BCF    03.5
0250:  BTFSC  06.4
0251:  GOTO   25A
....................       {
....................          while(input(h0)==0);
0252:  BSF    03.5
0253:  BSF    06.4
0254:  BCF    03.5
0255:  BTFSS  06.4
0256:  GOTO   252
....................          return 7;                  //7
0257:  MOVLW  07
0258:  MOVWF  78
0259:  GOTO   2D5
....................       }
....................    }
....................    if(input(h1)==0)
025A:  BSF    03.5
025B:  BSF    06.5
025C:  BCF    03.5
025D:  BTFSC  06.5
025E:  GOTO   26F
....................    {
....................       delay_ms(20);
025F:  MOVLW  14
0260:  MOVWF  62
0261:  CALL   0A2
....................       if(input(h1)==0)
0262:  BSF    03.5
0263:  BSF    06.5
0264:  BCF    03.5
0265:  BTFSC  06.5
0266:  GOTO   26F
....................       {
....................          while(input(h1)==0);
0267:  BSF    03.5
0268:  BSF    06.5
0269:  BCF    03.5
026A:  BTFSS  06.5
026B:  GOTO   267
....................          return 8;                  //8
026C:  MOVLW  08
026D:  MOVWF  78
026E:  GOTO   2D5
....................       }
....................    }
....................    if(input(h2)==0)
026F:  BSF    03.5
0270:  BSF    06.6
0271:  BCF    03.5
0272:  BTFSC  06.6
0273:  GOTO   284
....................    {
....................       delay_ms(20);
0274:  MOVLW  14
0275:  MOVWF  62
0276:  CALL   0A2
....................       if(input(h2)==0)
0277:  BSF    03.5
0278:  BSF    06.6
0279:  BCF    03.5
027A:  BTFSC  06.6
027B:  GOTO   284
....................       {
....................          while(input(h2)==0);
027C:  BSF    03.5
027D:  BSF    06.6
027E:  BCF    03.5
027F:  BTFSS  06.6
0280:  GOTO   27C
....................          return 9;                  //9
0281:  MOVLW  09
0282:  MOVWF  78
0283:  GOTO   2D5
....................       }
....................    }
....................    
....................    output_low(c3);// cap muc 0 cho hang 4
0284:  BSF    03.5
0285:  BCF    06.3
0286:  BCF    03.5
0287:  BCF    06.3
....................    output_high(c0);
0288:  BSF    03.5
0289:  BCF    06.0
028A:  BCF    03.5
028B:  BSF    06.0
....................    output_high(c1);
028C:  BSF    03.5
028D:  BCF    06.1
028E:  BCF    03.5
028F:  BSF    06.1
....................    output_high(c2);
0290:  BSF    03.5
0291:  BCF    06.2
0292:  BCF    03.5
0293:  BSF    06.2
....................    if(input(h0)==0)
0294:  BSF    03.5
0295:  BSF    06.4
0296:  BCF    03.5
0297:  BTFSC  06.4
0298:  GOTO   2A9
....................    {
....................       delay_ms(20);
0299:  MOVLW  14
029A:  MOVWF  62
029B:  CALL   0A2
....................       if(input(h0)==0)
029C:  BSF    03.5
029D:  BSF    06.4
029E:  BCF    03.5
029F:  BTFSC  06.4
02A0:  GOTO   2A9
....................       {
....................          while(input(h0)==0);
02A1:  BSF    03.5
02A2:  BSF    06.4
02A3:  BCF    03.5
02A4:  BTFSS  06.4
02A5:  GOTO   2A1
....................          return 10;         //10
02A6:  MOVLW  0A
02A7:  MOVWF  78
02A8:  GOTO   2D5
....................       }
....................    }
....................    if(input(h1)==0)
02A9:  BSF    03.5
02AA:  BSF    06.5
02AB:  BCF    03.5
02AC:  BTFSC  06.5
02AD:  GOTO   2BE
....................    {
....................       delay_ms(20);
02AE:  MOVLW  14
02AF:  MOVWF  62
02B0:  CALL   0A2
....................       if(input(h1)==0)
02B1:  BSF    03.5
02B2:  BSF    06.5
02B3:  BCF    03.5
02B4:  BTFSC  06.5
02B5:  GOTO   2BE
....................       {
....................          while(input(h1)==0);
02B6:  BSF    03.5
02B7:  BSF    06.5
02B8:  BCF    03.5
02B9:  BTFSS  06.5
02BA:  GOTO   2B6
....................          return 0;         //0
02BB:  MOVLW  00
02BC:  MOVWF  78
02BD:  GOTO   2D5
....................       }
....................    }
....................    if(input(h2)==0)
02BE:  BSF    03.5
02BF:  BSF    06.6
02C0:  BCF    03.5
02C1:  BTFSC  06.6
02C2:  GOTO   2D3
....................    {
....................       delay_ms(20);
02C3:  MOVLW  14
02C4:  MOVWF  62
02C5:  CALL   0A2
....................       if(input(h2)==0)
02C6:  BSF    03.5
02C7:  BSF    06.6
02C8:  BCF    03.5
02C9:  BTFSC  06.6
02CA:  GOTO   2D3
....................       {
....................          while(input(h2)==0);
02CB:  BSF    03.5
02CC:  BSF    06.6
02CD:  BCF    03.5
02CE:  BTFSS  06.6
02CF:  GOTO   2CB
....................          return 11;            //11
02D0:  MOVLW  0B
02D1:  MOVWF  78
02D2:  GOTO   2D5
....................       }
....................    }
....................    
....................    return 12;
02D3:  MOVLW  0C
02D4:  MOVWF  78
.................... }
.................... 
.................... unsigned int8 kytu[]      = {0x20,0x20,0X20,0X20,0x20,0x20,0x20,0X20,0X20,0x20};         // 0x20 là khoang trang
*
05A3:  MOVLW  20
05A4:  BCF    03.6
05A5:  MOVWF  24
05A6:  MOVWF  25
05A7:  MOVWF  26
05A8:  MOVWF  27
05A9:  MOVWF  28
05AA:  MOVWF  29
05AB:  MOVWF  2A
05AC:  MOVWF  2B
05AD:  MOVWF  2C
05AE:  MOVWF  2D
.................... unsigned int8 passmp[]    = {0x20,0x20,0X20,0X20,0x20,0x20,0x20,0X20,0X20,0x20};
05AF:  MOVWF  2E
05B0:  MOVWF  2F
05B1:  MOVWF  30
05B2:  MOVWF  31
05B3:  MOVWF  32
05B4:  MOVWF  33
05B5:  MOVWF  34
05B6:  MOVWF  35
05B7:  MOVWF  36
05B8:  MOVWF  37
.................... unsigned int8 kytu_sao[]  = {0x20,0x20,0X20,0X20,0x20,0x20,0x20,0X20,0X20,0x20};
05B9:  MOVWF  38
05BA:  MOVWF  39
05BB:  MOVWF  3A
05BC:  MOVWF  3B
05BD:  MOVWF  3C
05BE:  MOVWF  3D
05BF:  MOVWF  3E
05C0:  MOVWF  3F
05C1:  MOVWF  40
05C2:  MOVWF  41
.................... unsigned int8 mk_doi[]    = {0x20,0x20,0X20,0X20,0x20,0x20,0x20,0X20,0X20,0x20};
05C3:  MOVWF  42
05C4:  MOVWF  43
05C5:  MOVWF  44
05C6:  MOVWF  45
05C7:  MOVWF  46
05C8:  MOVWF  47
05C9:  MOVWF  48
05CA:  MOVWF  49
05CB:  MOVWF  4A
05CC:  MOVWF  4B
.................... unsigned int8 mk_doi_ss[] = {0x20,0x20,0X20,0X20,0x20,0x20,0x20,0X20,0X20,0x20};
05CD:  MOVWF  4C
05CE:  MOVWF  4D
05CF:  MOVWF  4E
05D0:  MOVWF  4F
05D1:  MOVWF  50
05D2:  MOVWF  51
05D3:  MOVWF  52
05D4:  MOVWF  53
05D5:  MOVWF  54
05D6:  MOVWF  55
.................... unsigned int8 b;
.................... unsigned int8 lan,sl,dem;
.................... int1 tt_doi,ss,tt_mo;
.................... signed int8 k;         
.................... 
.................... #define  loa    pin_a1
.................... #define  sv     pin_a0
.................... 
.................... void dong_cua()
.................... {
....................    for(int k=0;k<=50;k++)     // giu trang thai goc quay 180 do
*
016C:  CLRF   5E
016D:  MOVF   5E,W
016E:  SUBLW  32
016F:  BTFSS  03.0
0170:  GOTO   181
....................    {                
....................       output_high(sv);
0171:  BSF    03.5
0172:  BCF    05.0
0173:  BCF    03.5
0174:  BSF    05.0
....................       delay_ms(2);
0175:  MOVLW  02
0176:  MOVWF  62
0177:  CALL   0A2
....................       output_low(sv);
0178:  BSF    03.5
0179:  BCF    05.0
017A:  BCF    03.5
017B:  BCF    05.0
....................       delay_ms(18);              // 18ms
017C:  MOVLW  12
017D:  MOVWF  62
017E:  CALL   0A2
017F:  INCF   5E,F
0180:  GOTO   16D
....................    }   
0181:  RETURN
.................... }
.................... 
.................... void mo_cua()
.................... {
....................    for(k=0;k<10;k++)            // kich goc 90 do
*
0572:  CLRF   5B
0573:  BTFSC  5B.7
0574:  GOTO   579
0575:  MOVF   5B,W
0576:  SUBLW  09
0577:  BTFSS  03.0
0578:  GOTO   589
....................    {
....................       output_high(sv);
0579:  BSF    03.5
057A:  BCF    05.0
057B:  BCF    03.5
057C:  BSF    05.0
....................       delay_ms(1);               //1ms
057D:  MOVLW  01
057E:  MOVWF  62
057F:  CALL   0A2
....................       output_low(sv);
0580:  BSF    03.5
0581:  BCF    05.0
0582:  BCF    03.5
0583:  BCF    05.0
....................       delay_ms(19);
0584:  MOVLW  13
0585:  MOVWF  62
0586:  CALL   0A2
0587:  INCF   5B,F
0588:  GOTO   573
....................    } 
0589:  BCF    0A.3
058A:  BCF    0A.4
058B:  GOTO   656 (RETURN)
.................... }
.................... 
.................... void dem_giay()
.................... {
....................    for(dem=5;dem>0;dem--)
*
0376:  MOVLW  05
0377:  MOVWF  59
0378:  MOVF   59,F
0379:  BTFSC  03.2
037A:  GOTO   3B7
....................    {
....................        output_high(loa);
037B:  BSF    03.5
037C:  BCF    05.1
037D:  BCF    03.5
037E:  BSF    05.1
....................        
....................        lcd_command(0x80);
037F:  MOVLW  80
0380:  MOVWF  5E
0381:  CALL   0B6
....................        lcd_data(" VUOT LAN NHAP  "); 
0382:  MOVLW  04
0383:  BSF    03.6
0384:  MOVWF  0D
0385:  MOVLW  00
0386:  MOVWF  0F
0387:  BCF    03.6
0388:  CALL   116
....................        lcd_command(0xc0);
0389:  MOVLW  C0
038A:  MOVWF  5E
038B:  CALL   0B6
....................        lcd_data("THOI GIAN:   "); 
038C:  MOVLW  0D
038D:  BSF    03.6
038E:  MOVWF  0D
038F:  MOVLW  00
0390:  MOVWF  0F
0391:  BCF    03.6
0392:  CALL   116
....................        lcd_data(dem/10+0X30); 
0393:  MOVF   59,W
0394:  MOVWF  5E
0395:  MOVLW  0A
0396:  MOVWF  5F
0397:  CALL   182
0398:  MOVLW  30
0399:  ADDWF  78,W
039A:  MOVWF  5E
039B:  MOVWF  61
039C:  CALL   0F2
....................        lcd_data(dem%10+0X30); 
039D:  MOVF   59,W
039E:  MOVWF  5E
039F:  MOVLW  0A
03A0:  MOVWF  5F
03A1:  CALL   182
03A2:  MOVLW  30
03A3:  ADDWF  77,W
03A4:  MOVWF  5E
03A5:  MOVWF  61
03A6:  CALL   0F2
....................        lcd_data("s"); 
03A7:  MOVLW  14
03A8:  BSF    03.6
03A9:  MOVWF  0D
03AA:  MOVLW  00
03AB:  MOVWF  0F
03AC:  BCF    03.6
03AD:  CALL   116
....................        delay_ms(1000);
03AE:  MOVLW  04
03AF:  MOVWF  5E
03B0:  MOVLW  FA
03B1:  MOVWF  62
03B2:  CALL   0A2
03B3:  DECFSZ 5E,F
03B4:  GOTO   3B0
03B5:  DECF   59,F
03B6:  GOTO   378
....................    }
....................    output_low(loa);
03B7:  BSF    03.5
03B8:  BCF    05.1
03B9:  BCF    03.5
03BA:  BCF    05.1
....................    lcd_command(0x01);
03BB:  MOVLW  01
03BC:  MOVWF  5E
03BD:  CALL   0B6
.................... }
.................... 
.................... void nhap_mk()
.................... {
....................      for(b=0;b<9;b++)
*
02E3:  CLRF   56
02E4:  MOVF   56,W
02E5:  SUBLW  08
02E6:  BTFSS  03.0
02E7:  GOTO   2FE
....................      {
....................          kytu[b]=kytu[b+1];
02E8:  MOVLW  24
02E9:  ADDWF  56,W
02EA:  MOVWF  78
02EB:  CLRF   7A
02EC:  BTFSC  03.0
02ED:  INCF   7A,F
02EE:  MOVLW  01
02EF:  ADDWF  56,W
02F0:  ADDLW  24
02F1:  MOVWF  04
02F2:  BCF    03.7
02F3:  MOVF   00,W
02F4:  MOVWF  60
02F5:  MOVF   78,W
02F6:  MOVWF  04
02F7:  BCF    03.7
02F8:  BTFSC  7A.0
02F9:  BSF    03.7
02FA:  MOVF   60,W
02FB:  MOVWF  00
02FC:  INCF   56,F
02FD:  GOTO   2E4
....................      }
....................      kytu[9]=mp+0x30;      // 0x30 chuyen ma thap phan sang ascii
02FE:  MOVLW  30
02FF:  ADDWF  23,W
0300:  MOVWF  2D
....................      
....................      for(b=0;b<9;b++)
0301:  CLRF   56
0302:  MOVF   56,W
0303:  SUBLW  08
0304:  BTFSS  03.0
0305:  GOTO   31C
....................      {
....................          kytu_sao[b]=kytu_sao[b+1];
0306:  MOVLW  38
0307:  ADDWF  56,W
0308:  MOVWF  78
0309:  CLRF   7A
030A:  BTFSC  03.0
030B:  INCF   7A,F
030C:  MOVLW  01
030D:  ADDWF  56,W
030E:  ADDLW  38
030F:  MOVWF  04
0310:  BCF    03.7
0311:  MOVF   00,W
0312:  MOVWF  60
0313:  MOVF   78,W
0314:  MOVWF  04
0315:  BCF    03.7
0316:  BTFSC  7A.0
0317:  BSF    03.7
0318:  MOVF   60,W
0319:  MOVWF  00
031A:  INCF   56,F
031B:  GOTO   302
....................      }
....................      kytu_sao[9]=0x2a;
031C:  MOVLW  2A
031D:  MOVWF  41
.................... 
....................     lcd_command(0xc6);   // cot 7 hang 2
031E:  MOVLW  C6
031F:  MOVWF  5E
0320:  CALL   0B6
....................     for(b=0;b<10;b++)
0321:  CLRF   56
0322:  MOVF   56,W
0323:  SUBLW  09
0324:  BTFSS  03.0
0325:  GOTO   333
....................     {
....................       lcd_data(kytu_sao[b]); 
0326:  MOVLW  38
0327:  ADDWF  56,W
0328:  MOVWF  04
0329:  BCF    03.7
032A:  MOVF   00,W
032B:  MOVWF  5E
032C:  MOVWF  61
032D:  CALL   0F2
....................       delay_ms(30);
032E:  MOVLW  1E
032F:  MOVWF  62
0330:  CALL   0A2
0331:  INCF   56,F
0332:  GOTO   322
....................     }
.................... }
.................... 
.................... void nhap_mk_doi()  // dich lan 1 pass moi
.................... {
....................      for(b=0;b<9;b++)
*
0419:  CLRF   56
041A:  MOVF   56,W
041B:  SUBLW  08
041C:  BTFSS  03.0
041D:  GOTO   434
....................      {
....................          mk_doi[b]=mk_doi[b+1];
041E:  MOVLW  42
041F:  ADDWF  56,W
0420:  MOVWF  78
0421:  CLRF   7A
0422:  BTFSC  03.0
0423:  INCF   7A,F
0424:  MOVLW  01
0425:  ADDWF  56,W
0426:  ADDLW  42
0427:  MOVWF  04
0428:  BCF    03.7
0429:  MOVF   00,W
042A:  MOVWF  60
042B:  MOVF   78,W
042C:  MOVWF  04
042D:  BCF    03.7
042E:  BTFSC  7A.0
042F:  BSF    03.7
0430:  MOVF   60,W
0431:  MOVWF  00
0432:  INCF   56,F
0433:  GOTO   41A
....................      }
....................      mk_doi[9]=mp+0x30;
0434:  MOVLW  30
0435:  ADDWF  23,W
0436:  MOVWF  4B
....................      
....................     lcd_command(0xc6);
0437:  MOVLW  C6
0438:  MOVWF  5E
0439:  CALL   0B6
....................     for(b=0;b<10;b++)
043A:  CLRF   56
043B:  MOVF   56,W
043C:  SUBLW  09
043D:  BTFSS  03.0
043E:  GOTO   44C
....................     {
....................       lcd_data(mk_doi[b]);
043F:  MOVLW  42
0440:  ADDWF  56,W
0441:  MOVWF  04
0442:  BCF    03.7
0443:  MOVF   00,W
0444:  MOVWF  5E
0445:  MOVWF  61
0446:  CALL   0F2
....................       delay_ms(30);
0447:  MOVLW  1E
0448:  MOVWF  62
0449:  CALL   0A2
044A:  INCF   56,F
044B:  GOTO   43B
....................     }
.................... }
.................... 
.................... void nhap_mk_doi_ss()
.................... {
....................      for(b=0;b<9;b++)
*
0470:  CLRF   56
0471:  MOVF   56,W
0472:  SUBLW  08
0473:  BTFSS  03.0
0474:  GOTO   48B
....................      {
....................          mk_doi_ss[b]=mk_doi_ss[b+1]; //so sanh mat khau vua doi
0475:  MOVLW  4C
0476:  ADDWF  56,W
0477:  MOVWF  78
0478:  CLRF   7A
0479:  BTFSC  03.0
047A:  INCF   7A,F
047B:  MOVLW  01
047C:  ADDWF  56,W
047D:  ADDLW  4C
047E:  MOVWF  04
047F:  BCF    03.7
0480:  MOVF   00,W
0481:  MOVWF  60
0482:  MOVF   78,W
0483:  MOVWF  04
0484:  BCF    03.7
0485:  BTFSC  7A.0
0486:  BSF    03.7
0487:  MOVF   60,W
0488:  MOVWF  00
0489:  INCF   56,F
048A:  GOTO   471
....................      }
....................      mk_doi_ss[9]=mp+0x30;
048B:  MOVLW  30
048C:  ADDWF  23,W
048D:  MOVWF  55
....................      
....................     lcd_command(0xc6);
048E:  MOVLW  C6
048F:  MOVWF  5E
0490:  CALL   0B6
....................     for(b=0;b<10;b++)
0491:  CLRF   56
0492:  MOVF   56,W
0493:  SUBLW  09
0494:  BTFSS  03.0
0495:  GOTO   4A3
....................     {
....................       lcd_data(mk_doi_ss[b]);
0496:  MOVLW  4C
0497:  ADDWF  56,W
0498:  MOVWF  04
0499:  BCF    03.7
049A:  MOVF   00,W
049B:  MOVWF  5E
049C:  MOVWF  61
049D:  CALL   0F2
....................       delay_ms(30);
049E:  MOVLW  1E
049F:  MOVWF  62
04A0:  CALL   0A2
04A1:  INCF   56,F
04A2:  GOTO   492
....................     }
.................... }
.................... 
.................... void kiem_tra_mk()
.................... {
....................    for(b=0;b<10;b++)
*
0338:  CLRF   56
0339:  MOVF   56,W
033A:  SUBLW  09
033B:  BTFSS  03.0
033C:  GOTO   351
....................       {
....................          if(kytu[b]!=passmp[b])
033D:  MOVLW  24
033E:  ADDWF  56,W
033F:  MOVWF  04
0340:  BCF    03.7
0341:  MOVF   00,W
0342:  MOVWF  5E
0343:  MOVLW  2E
0344:  ADDWF  56,W
0345:  MOVWF  04
0346:  BCF    03.7
0347:  MOVF   00,W
0348:  SUBWF  5E,W
0349:  BTFSC  03.2
034A:  GOTO   34E
....................          {
....................             tt_mo=0;             // bao sai 
034B:  BCF    5A.2
....................             break;
034C:  GOTO   351
....................          }
034D:  GOTO   34F
....................          else              tt_mo=1;       // bao dung pass
034E:  BSF    5A.2
034F:  INCF   56,F
0350:  GOTO   339
....................       }
....................       
....................       if(tt_mo==0)
0351:  BTFSC  5A.2
0352:  GOTO   3BF
....................       {
....................          lcd_command(0x80);
0353:  MOVLW  80
0354:  MOVWF  5E
0355:  CALL   0B6
....................          lcd_data("  SAI MAT KHAU  ");
0356:  MOVLW  15
0357:  BSF    03.6
0358:  MOVWF  0D
0359:  MOVLW  00
035A:  MOVWF  0F
035B:  BCF    03.6
035C:  CALL   116
....................          lcd_command(0xc0);
035D:  MOVLW  C0
035E:  MOVWF  5E
035F:  CALL   0B6
....................          lcd_data("  MOI NHAP LAI  ");
0360:  MOVLW  1E
0361:  BSF    03.6
0362:  MOVWF  0D
0363:  MOVLW  00
0364:  MOVWF  0F
0365:  BCF    03.6
0366:  CALL   116
....................          delay_ms(1000);
0367:  MOVLW  04
0368:  MOVWF  5E
0369:  MOVLW  FA
036A:  MOVWF  62
036B:  CALL   0A2
036C:  DECFSZ 5E,F
036D:  GOTO   369
....................          lcd_command(0x01);
036E:  MOVLW  01
036F:  MOVWF  5E
0370:  CALL   0B6
....................          sl++;
0371:  INCF   58,F
....................          if(sl>=3)
0372:  MOVF   58,W
0373:  SUBLW  02
0374:  BTFSC  03.0
0375:  GOTO   3BE
....................          {
....................             dem_giay();
....................          }
....................       }
*
03BE:  GOTO   3C1
....................       else   // tt=0  bao dung
....................       {
....................          sl=0;
03BF:  CLRF   58
....................          chay=0;
03C0:  CLRF   21
....................       }
....................       for(b=0;b<10;b++)
03C1:  CLRF   56
03C2:  MOVF   56,W
03C3:  SUBLW  09
03C4:  BTFSS  03.0
03C5:  GOTO   3D4
....................       {
....................          kytu[b]=0x20;   // xoa ky tu cu~
03C6:  MOVLW  24
03C7:  ADDWF  56,W
03C8:  MOVWF  04
03C9:  BCF    03.7
03CA:  MOVLW  20
03CB:  MOVWF  00
....................          kytu_sao[b]=0x20;
03CC:  MOVLW  38
03CD:  ADDWF  56,W
03CE:  MOVWF  04
03CF:  BCF    03.7
03D0:  MOVLW  20
03D1:  MOVWF  00
03D2:  INCF   56,F
03D3:  GOTO   3C2
....................       }
....................       
.................... }
.................... 
.................... void kiemtra_mk_doi()
.................... {
....................    lan=1;
*
04A8:  MOVLW  01
04A9:  MOVWF  57
....................    for(b=0;b<10;b++)
04AA:  CLRF   56
04AB:  MOVF   56,W
04AC:  SUBLW  09
04AD:  BTFSS  03.0
04AE:  GOTO   4C3
....................    {
....................       if(mk_doi[b]!=mk_doi_ss[b])
04AF:  MOVLW  42
04B0:  ADDWF  56,W
04B1:  MOVWF  04
04B2:  BCF    03.7
04B3:  MOVF   00,W
04B4:  MOVWF  5E
04B5:  MOVLW  4C
04B6:  ADDWF  56,W
04B7:  MOVWF  04
04B8:  BCF    03.7
04B9:  MOVF   00,W
04BA:  SUBWF  5E,W
04BB:  BTFSC  03.2
04BC:  GOTO   4C0
....................       {
....................          ss=1;             // bao sai 
04BD:  BSF    5A.1
....................          break;
04BE:  GOTO   4C3
....................       }
04BF:  GOTO   4C1
....................       else           ss=0;
04C0:  BCF    5A.1
04C1:  INCF   56,F
04C2:  GOTO   4AB
....................    }
....................    if(ss==0)  // doi mat khau thanh cong
04C3:  BTFSC  5A.1
04C4:  GOTO   500
....................    {
....................       lcd_command(0x80);
04C5:  MOVLW  80
04C6:  MOVWF  5E
04C7:  CALL   0B6
....................       lcd_data("  DOI MAT KHAU  ");
04C8:  MOVLW  27
04C9:  BSF    03.6
04CA:  MOVWF  0D
04CB:  MOVLW  00
04CC:  MOVWF  0F
04CD:  BCF    03.6
04CE:  CALL   116
....................       lcd_command(0xc0);
04CF:  MOVLW  C0
04D0:  MOVWF  5E
04D1:  CALL   0B6
....................       lcd_data(" DOI THANH CONG ");
04D2:  MOVLW  30
04D3:  BSF    03.6
04D4:  MOVWF  0D
04D5:  MOVLW  00
04D6:  MOVWF  0F
04D7:  BCF    03.6
04D8:  CALL   116
....................       for(b=0;b<10;b++)          // luu gia tri pass moi vao eeprom
04D9:  CLRF   56
04DA:  MOVF   56,W
04DB:  SUBLW  09
04DC:  BTFSS  03.0
04DD:  GOTO   4FF
....................       {
....................          write_eeprom(b,mk_doi[b]);
04DE:  MOVLW  42
04DF:  ADDWF  56,W
04E0:  MOVWF  04
04E1:  BCF    03.7
04E2:  MOVF   00,W
04E3:  MOVWF  5E
04E4:  MOVF   0B,W
04E5:  MOVWF  77
04E6:  BCF    0B.7
04E7:  MOVF   56,W
04E8:  BSF    03.6
04E9:  MOVWF  0D
04EA:  BCF    03.6
04EB:  MOVF   5E,W
04EC:  BSF    03.6
04ED:  MOVWF  0C
04EE:  BSF    03.5
04EF:  BCF    0C.7
04F0:  BSF    0C.2
04F1:  MOVLW  55
04F2:  MOVWF  0D
04F3:  MOVLW  AA
04F4:  MOVWF  0D
04F5:  BSF    0C.1
04F6:  BTFSC  0C.1
04F7:  GOTO   4F6
04F8:  BCF    0C.2
04F9:  MOVF   77,W
04FA:  BCF    03.5
04FB:  BCF    03.6
04FC:  IORWF  0B,F
04FD:  INCF   56,F
04FE:  GOTO   4DA
....................       }
....................    }
04FF:  GOTO   514
....................    else        // ss=1 doi mat khau that bai
....................    {
....................       lcd_command(0x80);
0500:  MOVLW  80
0501:  MOVWF  5E
0502:  CALL   0B6
....................       lcd_data("  DOI MAT KHAU  ");
0503:  MOVLW  39
0504:  BSF    03.6
0505:  MOVWF  0D
0506:  MOVLW  00
0507:  MOVWF  0F
0508:  BCF    03.6
0509:  CALL   116
....................       lcd_command(0xc0);
050A:  MOVLW  C0
050B:  MOVWF  5E
050C:  CALL   0B6
....................       lcd_data("  DOI THAT BAI  ");
050D:  MOVLW  42
050E:  BSF    03.6
050F:  MOVWF  0D
0510:  MOVLW  00
0511:  MOVWF  0F
0512:  BCF    03.6
0513:  CALL   116
....................    }
....................    delay_ms(1000);
0514:  MOVLW  04
0515:  MOVWF  5E
0516:  MOVLW  FA
0517:  MOVWF  62
0518:  CALL   0A2
0519:  DECFSZ 5E,F
051A:  GOTO   516
....................    tt_doi=0;
051B:  BCF    5A.0
....................    tt_mo=0;
051C:  BCF    5A.2
....................    dong_cua();
051D:  CALL   16C
....................    for(b=0;b<10;b++)
051E:  CLRF   56
051F:  MOVF   56,W
0520:  SUBLW  09
0521:  BTFSS  03.0
0522:  GOTO   531
....................    {
....................       mk_doi[b]=0x20;   // xoa ky tu cu~
0523:  MOVLW  42
0524:  ADDWF  56,W
0525:  MOVWF  04
0526:  BCF    03.7
0527:  MOVLW  20
0528:  MOVWF  00
....................       mk_doi_ss[b]=0x20;   // xoa ky tu cu~
0529:  MOVLW  4C
052A:  ADDWF  56,W
052B:  MOVWF  04
052C:  BCF    03.7
052D:  MOVLW  20
052E:  MOVWF  00
052F:  INCF   56,F
0530:  GOTO   51F
....................    }
....................    lcd_command(0x80);
0531:  MOVLW  80
0532:  MOVWF  5E
0533:  CALL   0B6
....................    lcd_data("                  ");
0534:  MOVLW  4B
0535:  BSF    03.6
0536:  MOVWF  0D
0537:  MOVLW  00
0538:  MOVWF  0F
0539:  BCF    03.6
053A:  CALL   116
....................    lcd_command(0xc0);
053B:  MOVLW  C0
053C:  MOVWF  5E
053D:  CALL   0B6
....................    lcd_data("                  ");
053E:  MOVLW  55
053F:  BSF    03.6
0540:  MOVWF  0D
0541:  MOVLW  00
0542:  MOVWF  0F
0543:  BCF    03.6
0544:  CALL   116
.................... }
.................... 
.................... void kiem_tra_key_phim()
.................... {
....................    mp=quetphim_4x3(); 
*
02D5:  MOVF   78,W
02D6:  MOVWF  23
....................    if(mp!=12)    // kiem tra co nhan phim khong
02D7:  MOVF   23,W
02D8:  SUBLW  0C
02D9:  BTFSC  03.2
02DA:  GOTO   56F
....................    {        // co nhan phim
....................       if((tt_doi==0))    // nhap pass mo cua
02DB:  BTFSC  5A.0
02DC:  GOTO   411
....................       {
....................          if(tt_mo==0)
02DD:  BTFSC  5A.2
02DE:  GOTO   3D4
....................          {
....................             if(mp<10)        // co phep nhap tu 0 den 9
02DF:  MOVF   23,W
02E0:  SUBLW  09
02E1:  BTFSS  03.0
02E2:  GOTO   334
....................             {
....................                nhap_mk();
....................             }
*
0333:  GOTO   3D4
....................             else if(mp==10)    
0334:  MOVF   23,W
0335:  SUBLW  0A
0336:  BTFSS  03.2
0337:  GOTO   3D4
....................             {
....................                kiem_tra_mk();
....................             }   
....................          }
....................          
....................          if(mp==11)            // cho phep doi pass
*
03D4:  MOVF   23,W
03D5:  SUBLW  0B
03D6:  BTFSS  03.2
03D7:  GOTO   410
....................          {
....................             if(tt_mo==1)      // cua dang mo
03D8:  BTFSS  5A.2
03D9:  GOTO   410
....................             {
....................                 for(b=0;b<10;b++)
03DA:  CLRF   56
03DB:  MOVF   56,W
03DC:  SUBLW  09
03DD:  BTFSS  03.0
03DE:  GOTO   3F9
....................                 {
....................                   kytu[b]=0x20;   // xoa ky tu cu~
03DF:  MOVLW  24
03E0:  ADDWF  56,W
03E1:  MOVWF  04
03E2:  BCF    03.7
03E3:  MOVLW  20
03E4:  MOVWF  00
....................                   kytu_sao[b]=0x20;
03E5:  MOVLW  38
03E6:  ADDWF  56,W
03E7:  MOVWF  04
03E8:  BCF    03.7
03E9:  MOVLW  20
03EA:  MOVWF  00
....................                   mk_doi[b]=0X20;   // xoa ky tu cu~
03EB:  MOVLW  42
03EC:  ADDWF  56,W
03ED:  MOVWF  04
03EE:  BCF    03.7
03EF:  MOVLW  20
03F0:  MOVWF  00
....................                   mk_doi_ss[b]=0X20;   // xoa ky tu cu~
03F1:  MOVLW  4C
03F2:  ADDWF  56,W
03F3:  MOVWF  04
03F4:  BCF    03.7
03F5:  MOVLW  20
03F6:  MOVWF  00
03F7:  INCF   56,F
03F8:  GOTO   3DB
....................                 }
....................                tt_doi=1;
03F9:  BSF    5A.0
....................                lan=1;
03FA:  MOVLW  01
03FB:  MOVWF  57
....................                lcd_command(0x80);
03FC:  MOVLW  80
03FD:  MOVWF  5E
03FE:  CALL   0B6
....................                lcd_data("  DOI MAT KHAU  ");
03FF:  MOVLW  5F
0400:  BSF    03.6
0401:  MOVWF  0D
0402:  MOVLW  00
0403:  MOVWF  0F
0404:  BCF    03.6
0405:  CALL   116
....................                lcd_command(0xc0);
0406:  MOVLW  C0
0407:  MOVWF  5E
0408:  CALL   0B6
....................                lcd_data("LAN 1:          ");
0409:  MOVLW  68
040A:  BSF    03.6
040B:  MOVWF  0D
040C:  MOVLW  00
040D:  MOVWF  0F
040E:  BCF    03.6
040F:  CALL   116
....................             }
....................          }
....................       }
0410:  GOTO   56F
....................       else if(tt_doi==1)       // doi pass   tt_doi=1;
0411:  BTFSS  5A.0
0412:  GOTO   56F
....................       {
....................          if(lan==1)      // nhap pass moi lan 1
0413:  DECFSZ 57,W
0414:  GOTO   45E
....................          {
....................             if(mp<10)
0415:  MOVF   23,W
0416:  SUBLW  09
0417:  BTFSS  03.0
0418:  GOTO   44D
....................             {
....................                nhap_mk_doi();
....................             }
*
044C:  GOTO   45D
....................             else if(mp==10) // nhan *
044D:  MOVF   23,W
044E:  SUBLW  0A
044F:  BTFSS  03.2
0450:  GOTO   45D
....................             {
....................                lan=2;
0451:  MOVLW  02
0452:  MOVWF  57
....................                lcd_command(0xc0);
0453:  MOVLW  C0
0454:  MOVWF  5E
0455:  CALL   0B6
....................                lcd_data("LAN 2:          ");
0456:  MOVLW  71
0457:  BSF    03.6
0458:  MOVWF  0D
0459:  MOVLW  00
045A:  MOVWF  0F
045B:  BCF    03.6
045C:  CALL   116
....................             }
....................          }
045D:  GOTO   545
....................          else if(lan==2)
045E:  MOVF   57,W
045F:  SUBLW  02
0460:  BTFSS  03.2
0461:  GOTO   545
....................          {
....................             lcd_command(0xc0);
0462:  MOVLW  C0
0463:  MOVWF  5E
0464:  CALL   0B6
....................             lcd_data("LAN 2:");
0465:  MOVLW  7A
0466:  BSF    03.6
0467:  MOVWF  0D
0468:  MOVLW  00
0469:  MOVWF  0F
046A:  BCF    03.6
046B:  CALL   116
....................             
....................             if(mp<10)
046C:  MOVF   23,W
046D:  SUBLW  09
046E:  BTFSS  03.0
046F:  GOTO   4A4
....................             {
....................                nhap_mk_doi_ss();
....................             }
*
04A3:  GOTO   545
....................             else if(mp==10)
04A4:  MOVF   23,W
04A5:  SUBLW  0A
04A6:  BTFSS  03.2
04A7:  GOTO   545
....................             {
....................               kiemtra_mk_doi();
....................             }
....................          }
....................          if(mp==11)     // huy qua trinh doi pass, quay ve man hinh chinh
*
0545:  MOVF   23,W
0546:  SUBLW  0B
0547:  BTFSS  03.2
0548:  GOTO   56F
....................          {
....................             tt_doi=0;        // cho nhap pass
0549:  BCF    5A.0
....................             tt_mo=0;         // khong cho doi pass
054A:  BCF    5A.2
....................             lan=0;
054B:  CLRF   57
....................             for(b=0;b<10;b++)
054C:  CLRF   56
054D:  MOVF   56,W
054E:  SUBLW  09
054F:  BTFSS  03.0
0550:  GOTO   56B
....................             {
....................                mk_doi[b]=0x20;   // xoa ky tu cu~
0551:  MOVLW  42
0552:  ADDWF  56,W
0553:  MOVWF  04
0554:  BCF    03.7
0555:  MOVLW  20
0556:  MOVWF  00
....................                mk_doi_ss[b]=0x20;   // xoa ky tu cu~
0557:  MOVLW  4C
0558:  ADDWF  56,W
0559:  MOVWF  04
055A:  BCF    03.7
055B:  MOVLW  20
055C:  MOVWF  00
....................                kytu[b]=0x20;   // xoa ky tu cu~
055D:  MOVLW  24
055E:  ADDWF  56,W
055F:  MOVWF  04
0560:  BCF    03.7
0561:  MOVLW  20
0562:  MOVWF  00
....................                kytu_sao[b]=0x20;
0563:  MOVLW  38
0564:  ADDWF  56,W
0565:  MOVWF  04
0566:  BCF    03.7
0567:  MOVLW  20
0568:  MOVWF  00
0569:  INCF   56,F
056A:  GOTO   54D
....................             }
....................             lcd_command(0x01);
056B:  MOVLW  01
056C:  MOVWF  5E
056D:  CALL   0B6
....................             dong_cua();
056E:  CALL   16C
....................          }
....................       }   
....................    }
056F:  BCF    0A.3
0570:  BCF    0A.4
0571:  GOTO   620 (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... 
.................... void main()
*
058C:  MOVF   03,W
058D:  ANDLW  1F
058E:  MOVWF  03
058F:  MOVLW  FF
0590:  MOVWF  20
0591:  CLRF   5D
0592:  CLRF   5C
0593:  BSF    03.5
0594:  BSF    03.6
0595:  MOVF   09,W
0596:  ANDLW  C0
0597:  MOVWF  09
0598:  BCF    03.6
0599:  BCF    1F.4
059A:  BCF    1F.5
059B:  MOVLW  00
059C:  BSF    03.6
059D:  MOVWF  08
059E:  BCF    03.5
059F:  CLRF   07
05A0:  CLRF   08
05A1:  CLRF   09
05A2:  BCF    03.7
.................... {
....................    set_tris_a(0x00);
*
05D7:  MOVLW  00
05D8:  BSF    03.5
05D9:  MOVWF  05
....................    set_tris_d(0x00);
05DA:  MOVWF  08
....................    set_tris_c(0x00);
05DB:  MOVWF  07
05DC:  BCF    03.5
05DD:  MOVWF  20
....................    set_tris_b(0xf0);
05DE:  MOVLW  F0
05DF:  BSF    03.5
05E0:  MOVWF  06
....................    lcd_setup();
05E1:  BCF    03.5
05E2:  GOTO   0DA
....................    lcd_command(0x80);
05E3:  MOVLW  80
05E4:  MOVWF  5E
05E5:  CALL   0B6
....................    lcd_data(" NHAP MAT KHAU  ");
05E6:  MOVLW  7E
05E7:  BSF    03.6
05E8:  MOVWF  0D
05E9:  MOVLW  00
05EA:  MOVWF  0F
05EB:  BCF    03.6
05EC:  CALL   116
....................    output_bit(loa,0);
05ED:  BCF    05.1
05EE:  BSF    03.5
05EF:  BCF    05.1
....................    tt_doi=0;     // cho phep doi pass
05F0:  BCF    03.5
05F1:  BCF    5A.0
....................    lan=0;        // so lan doi pass
05F2:  CLRF   57
....................    sl=0;
05F3:  CLRF   58
....................    dong_cua();
05F4:  CALL   16C
....................    chay=0;
05F5:  CLRF   21
....................    tt_mo=0; // cua dong
05F6:  BCF    5A.2
.................... 
....................    for(i=0;i<10;i++)          // luu gia tri pass moi vao eeprom
05F7:  CLRF   22
05F8:  BTFSC  22.7
05F9:  GOTO   5FE
05FA:  MOVF   22,W
05FB:  SUBLW  09
05FC:  BTFSS  03.0
05FD:  GOTO   61F
....................    {
....................       write_eeprom(i,mk_doi[i]);
05FE:  MOVLW  42
05FF:  ADDWF  22,W
0600:  MOVWF  04
0601:  BCF    03.7
0602:  MOVF   00,W
0603:  MOVWF  5E
0604:  MOVF   0B,W
0605:  MOVWF  77
0606:  BCF    0B.7
0607:  MOVF   22,W
0608:  BSF    03.6
0609:  MOVWF  0D
060A:  BCF    03.6
060B:  MOVF   5E,W
060C:  BSF    03.6
060D:  MOVWF  0C
060E:  BSF    03.5
060F:  BCF    0C.7
0610:  BSF    0C.2
0611:  MOVLW  55
0612:  MOVWF  0D
0613:  MOVLW  AA
0614:  MOVWF  0D
0615:  BSF    0C.1
0616:  BTFSC  0C.1
0617:  GOTO   616
0618:  BCF    0C.2
0619:  MOVF   77,W
061A:  BCF    03.5
061B:  BCF    03.6
061C:  IORWF  0B,F
061D:  INCF   22,F
061E:  GOTO   5F8
....................    }
....................    WHILE(TRUE)
....................    {
....................       kiem_tra_key_phim();
061F:  GOTO   197
....................       for(b=0;b<10;b++)
0620:  CLRF   56
0621:  MOVF   56,W
0622:  SUBLW  09
0623:  BTFSS  03.0
0624:  GOTO   635
....................       {
....................          passmp[b]=read_eeprom(b);  // DOC MAT KHAU DUC LUU TRONG EEPROM
0625:  MOVLW  2E
0626:  ADDWF  56,W
0627:  MOVWF  04
0628:  BCF    03.7
0629:  MOVF   56,W
062A:  BSF    03.6
062B:  MOVWF  0D
062C:  BSF    03.5
062D:  BCF    0C.7
062E:  BSF    0C.0
062F:  BCF    03.5
0630:  MOVF   0C,W
0631:  MOVWF  00
0632:  BCF    03.6
0633:  INCF   56,F
0634:  GOTO   621
....................       }
....................       if(tt_mo==1)       // nhan dung mat khau cua mo
0635:  BTFSS  5A.2
0636:  GOTO   65E
....................       {
....................          if((tt_doi==0))       // chua nhan # de doi mat khau 
0637:  BTFSC  5A.0
0638:  GOTO   64E
....................          {
....................             chay++;
0639:  INCF   21,F
....................             lcd_command(0x80);
063A:  MOVLW  80
063B:  MOVWF  5E
063C:  CALL   0B6
....................             lcd_data(" DUNG MAT KHAU  ");
063D:  MOVLW  87
063E:  BSF    03.6
063F:  MOVWF  0D
0640:  MOVLW  00
0641:  MOVWF  0F
0642:  BCF    03.6
0643:  CALL   116
....................             lcd_command(0xc0);
0644:  MOVLW  C0
0645:  MOVWF  5E
0646:  CALL   0B6
....................             lcd_data("CUA MO - MOI VAO");
0647:  MOVLW  90
0648:  BSF    03.6
0649:  MOVWF  0D
064A:  MOVLW  00
064B:  MOVWF  0F
064C:  BCF    03.6
064D:  CALL   116
....................          }
....................          if(chay<30)
064E:  BTFSC  21.7
064F:  GOTO   654
0650:  MOVF   21,W
0651:  SUBLW  1D
0652:  BTFSS  03.0
0653:  GOTO   657
....................          {
....................             if(tt_doi==0)        mo_cua();
0654:  BTFSS  5A.0
0655:  GOTO   572
....................          }
0656:  GOTO   65D
....................          else 
....................          {
....................             tt_mo=0;
0657:  BCF    5A.2
....................             tt_doi=0;
0658:  BCF    5A.0
....................             dong_cua();
0659:  CALL   16C
....................             lcd_command(0x01);
065A:  MOVLW  01
065B:  MOVWF  5E
065C:  CALL   0B6
....................          }
....................       }
065D:  GOTO   668
....................       else
....................       {
....................          lcd_command(0x80);
065E:  MOVLW  80
065F:  MOVWF  5E
0660:  CALL   0B6
....................          lcd_data(" NHAP MAT KHAU  ");  
0661:  MOVLW  99
0662:  BSF    03.6
0663:  MOVWF  0D
0664:  MOVLW  00
0665:  MOVWF  0F
0666:  BCF    03.6
0667:  CALL   116
....................       }   
0668:  GOTO   61F
....................    }
.................... }
.................... 
0669:  SLEEP

Configuration Fuses:
   Word  1: 2FE2   HS NOWDT PUT MCLR NOPROTECT NOCPD BROWNOUT IESO FCMEN NOLVP NODEBUG
   Word  2: 3FFF   BORV40 NOWRT
